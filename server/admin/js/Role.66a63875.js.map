{"version":3,"sources":["webpack:///./src/views/permission/RoleList.vue?2201","webpack:///src/views/permission/RoleList.vue","webpack:///./src/views/permission/RoleList.vue?75be","webpack:///./src/views/permission/RoleList.vue","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./src/views/permission/RoleEdit.vue?6ec1","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///src/views/permission/RoleEdit.vue","webpack:///./src/views/permission/RoleEdit.vue?c780","webpack:///./src/views/permission/RoleEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","currentPage","pageSize","selectionList","removeMany","on","$event","searchKeyword","handleSearchedData","items","handleSelectionChange","scopedSlots","_u","key","fn","scope","modelName","row","remove","totalSize","handleSizeChange","handleCurrentChange","staticRenderFns","name","mixins","component","$","$filter","filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","length","undefined","global","bind","call","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","isConstructor","lengthOfArrayLike","createProperty","getIterator","getIteratorMethod","Array","module","exports","arrayLike","O","IS_CONSTRUCTOR","argumentsLength","mapfn","mapping","result","step","iterator","next","value","iteratorMethod","index","done","$entries","entries","stat","DESCRIPTORS","uncurryThis","objectKeys","toIndexedObject","$propertyIsEnumerable","f","propertyIsEnumerable","push","createMethod","TO_ENTRIES","it","keys","i","values","anObject","iteratorClose","ENTRIES","error","from","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","staticClass","_s","id","ref","model","rules","nativeOn","preventDefault","save","apply","callback","$$v","$set","expression","staticStyle","adminWebTreeData","defaultAdminWebCheckedKeys","clickWebTree","data","type","label","methodType","right","desc","replace","_e","apiRightTreeData","defaultApiRightCheckedKeys","clickApiTree","path","_arrayWithHoles","arr","isArray","_iterableToArrayLimit","_i","Symbol","_arr","_n","_d","err","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","Object","prototype","toString","slice","constructor","test","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","_arrayWithoutHoles","_iterableToArray","iter","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","props","computed","obj","cate","api","parentId","apiRights","adminWebs","defaultProps","children","POST","PUT","DELETE","required","message","trigger","description","methods","valid","fetch","res","fetchApiRights","fetchAdminWebs","node","tree","checkTree","rightNodes","rights","adminWeb","getDefaultTreeCheckedKeys","item","getDefaultAdminWebCheckedKeys","getDefaultApiRightCheckedKeys","created","mounted","setTimeout"],"mappings":"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","file":"js/Role.66a63875.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"角色列表\")]),_c('list-form',{attrs:{\"modelName\":\"roles\",\"currentPage\":_vm.currentPage,\"size\":_vm.pageSize,\"selectionList\":_vm.selectionList,\"removeMany\":_vm.removeMany},on:{\"keywordChange\":function($event){_vm.searchKeyword = $event},\"searchData\":_vm.handleSearchedData}}),_c('el-table',{attrs:{\"data\":_vm.items},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"_id\",\"label\":\"ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('ListOptionBtn',{attrs:{\"modelName\":_vm.modelName,\"row\":scope.row,\"removeOne\":_vm.remove}})]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 20, 30, 40],\"page-size\":10,\"background\":\"\",\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalSize},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h1>角色列表</h1>\r\n    <list-form\r\n      modelName=\"roles\"\r\n      :currentPage=\"currentPage\"\r\n      :size=\"pageSize\"\r\n      :selectionList=\"selectionList\"\r\n      :removeMany=\"removeMany\"\r\n      @keywordChange=\"searchKeyword = $event\"\r\n      @searchData=\"handleSearchedData\"\r\n    ></list-form>\r\n    <el-table :data=\"items\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\r\n      <el-table-column prop=\"_id\" label=\"ID\" />\r\n      <el-table-column prop=\"name\" label=\"名称\" />\r\n      <el-table-column prop=\"description\" label=\"描述\" />\r\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <ListOptionBtn\r\n            :modelName=\"modelName\"\r\n            :row=\"scope.row\"\r\n            :removeOne=\"remove\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[10, 20, 30, 40]\"\r\n      :page-size=\"10\"\r\n      background\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"totalSize\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport listPageMixin from '@/mixins/listPageMixin.js'\r\nexport default {\r\n  name: 'RoleList',\r\n  mixins: [listPageMixin]\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleList.vue?vue&type=template&id=8726e202&\"\nimport script from \"./RoleList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar isConstructor = require('../internals/is-constructor');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar Array = global.Array;\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var IS_CONSTRUCTOR = isConstructor(this);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined);\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod && !(this == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = getIterator(O, iteratorMethod);\n    next = iterator.next;\n    result = IS_CONSTRUCTOR ? new this() : [];\n    for (;!(step = call(next, iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = lengthOfArrayLike(O);\n    result = IS_CONSTRUCTOR ? new this(length) : Array(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable(O, key)) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es-x/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(_vm._s(_vm.id ? \"编辑\" : \"新建\")+\"角色\")]),_c('el-form',{ref:\"RoleForm\",attrs:{\"model\":_vm.model,\"rules\":_vm.rules,\"label-width\":\"120px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.description),callback:function ($$v) {_vm.$set(_vm.model, \"description\", $$v)},expression:\"model.description\"}})],1),_c('el-form-item',[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"权限\"}},[_c('div',{staticClass:\"d-flex\",staticStyle:{\"padding\":\"0 20 px\"}},[_c('div',{staticClass:\"flex-grow\"},[_c('h4',[_vm._v(\"前端界面权限：\")]),_c('el-tree',{ref:\"webTree\",staticClass:\"right-tree\",attrs:{\"data\":_vm.adminWebTreeData,\"show-checkbox\":\"\",\"node-key\":\"id\",\"indent\":44,\"expand-on-click-node\":false,\"check-on-click-node\":true,\"default-expand-all\":1 ? true : false,\"default-expanded-keys\":[],\"default-checked-keys\":_vm.defaultAdminWebCheckedKeys},on:{\"check\":_vm.clickWebTree},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [(data.type=='category')?_c('span',{staticClass:\"tree-item cate\"},[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(data.label))])],1):(data.type=='right')?_c('span',{staticClass:\"tree-item\"},[_c('el-tag',{attrs:{\"type\":_vm.methodType[data.right]}},[_vm._v(_vm._s(data.right))]),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(_vm._s(data.desc))])],1):(data.type =='page')?_c('span',{staticClass:\"tree-item\"},[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(data.label.replace('页面', '')))]),_c('span',{staticStyle:{\"color\":\"#606266\",\"margin-left\":\"5px\"}},[_vm._v(\"页面\")])],1):(data.type =='group')?_c('span',{staticClass:\"tree-item\"},[_c('el-tag',{staticClass:\"group\",attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(data.name))]),_c('span',{staticStyle:{\"color\":\"#606266\",\"margin-left\":\"5px\"}},[_vm._v(\"分组\")])],1):_vm._e()]}}])})],1),_c('div',{staticClass:\"flex-grow\"},[_c('h4',[_vm._v(\"API接口权限：\")]),_c('el-tree',{ref:\"apiTree\",staticClass:\"right-tree\",attrs:{\"data\":_vm.apiRightTreeData,\"show-checkbox\":\"\",\"node-key\":\"id\",\"indent\":44,\"expand-on-click-node\":false,\"check-on-click-node\":true,\"default-expand-all\":1 ? true : false,\"default-expanded-keys\":[],\"default-checked-keys\":_vm.defaultApiRightCheckedKeys},on:{\"check\":_vm.clickApiTree},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [(data.type == 'category')?_c('span',{staticClass:\"tree-item cate\"},[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(data.name))])],1):(data.type == 'right')?_c('span',{staticClass:\"tree-item\"},[_c('el-tag',{staticClass:\"method\",attrs:{\"type\":_vm.methodType[data.right]}},[_vm._v(_vm._s(data.right))]),_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(_vm._s(data.desc))])],1):_c('span',{staticClass:\"tree-item\"},[_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(data.path))]),_c('span',{staticStyle:{\"color\":\"#606266\",\"margin-left\":\"5px\"}},[_vm._v(\"接口\")])],1)]}}])})],1)])])],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\r\n  <div class=\"about\">\r\n    <h1>{{ id ? \"编辑\" : \"新建\" }}角色</h1>\r\n    <el-form\r\n      :model=\"model\"\r\n      :rules=\"rules\"\r\n      ref=\"RoleForm\"\r\n      label-width=\"120px\"\r\n      @submit.native.prevent=\"save\"\r\n    >\r\n      <el-form-item label=\"名称\" prop=\"name\">\r\n        <el-input v-model=\"model.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"描述\" prop=\"description\">\r\n        <el-input type=\"textarea\" v-model=\"model.description\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-tabs type=\"border-card\">\r\n          <el-tab-pane label=\"权限\">\r\n            <div class=\"d-flex\" style=\"padding: 0 20 px;\">\r\n              <div class=\"flex-grow\">\r\n                <h4>前端界面权限：</h4>\r\n                <el-tree\r\n                  :data=\"adminWebTreeData\"\r\n                  show-checkbox\r\n                  node-key=\"id\"\r\n                  :indent=\"44\"\r\n                  :expand-on-click-node=\"false\"\r\n                  :check-on-click-node=\"true\"\r\n                  :default-expand-all=\"1 ? true : false\"\r\n                  :default-expanded-keys=\"[]\"\r\n                  :default-checked-keys=\"defaultAdminWebCheckedKeys\"\r\n                  ref=\"webTree\"\r\n                  class=\"right-tree\"\r\n                  @check=\"clickWebTree\"\r\n                >\r\n                  <template v-slot=\"{ data }\">\r\n                    <span\r\n                      class=\"tree-item cate\"\r\n                      v-if=\"data.type=='category'\"\r\n                    >\r\n                      <el-tag type=\"info\">{{data.label}}</el-tag>\r\n                    </span>\r\n                    <span\r\n                      class=\"tree-item\"\r\n                      v-else-if=\"data.type=='right'\"\r\n                    >\r\n                      <el-tag\r\n                        :type=\"methodType[data.right]\"\r\n                      >{{data.right}}</el-tag>\r\n                      <span style=\"margin-left: 5px;\">{{data.desc}}</span>\r\n                    </span>\r\n                    <span\r\n                      class=\"tree-item\"\r\n                      v-else-if=\"data.type =='page'\"\r\n                    >\r\n                      <el-tag\r\n                        type=\"info\"\r\n                      >{{data.label.replace('页面', '')}}</el-tag>\r\n                      <span\r\n                        style=\"color: #606266;margin-left: 5px;\"\r\n                      >页面</span>\r\n                    </span>\r\n                    <span\r\n                      class=\"tree-item\"\r\n                      v-else-if=\"data.type =='group'\"\r\n                    >\r\n                      <el-tag class=\"group\" type=\"info\">{{data.name}}</el-tag>\r\n                      <span\r\n                        style=\"color: #606266;margin-left: 5px;\"\r\n                      >分组</span>\r\n                    </span>\r\n                  </template>\r\n                </el-tree>\r\n              </div>\r\n\r\n              <div class=\"flex-grow\">\r\n                <h4>API接口权限：</h4>\r\n                <el-tree\r\n                  :data=\"apiRightTreeData\"\r\n                  show-checkbox\r\n                  node-key=\"id\"\r\n                  :indent=\"44\"\r\n                  :expand-on-click-node=\"false\"\r\n                  :check-on-click-node=\"true\"\r\n                  :default-expand-all=\"1 ? true : false\"\r\n                  :default-expanded-keys=\"[]\"\r\n                  :default-checked-keys=\"defaultApiRightCheckedKeys\"\r\n                  class=\"right-tree\"\r\n                  ref=\"apiTree\"\r\n                  @check=\"clickApiTree\"\r\n                >\r\n                  <template v-slot=\"{ data }\">\r\n                    <span\r\n                      class=\"tree-item cate\"\r\n                      v-if=\"data.type == 'category'\"\r\n                    >\r\n                      <el-tag type=\"info\">{{data.name}}</el-tag>\r\n                    </span>\r\n                    <span\r\n                      class=\"tree-item\"\r\n                      v-else-if=\"data.type == 'right'\"\r\n                    >\r\n                      <el-tag\r\n                        :type=\"methodType[data.right]\"\r\n                        class=\"method\"\r\n                      >{{data.right}}</el-tag>\r\n                      <span style=\"margin-left: 5px;\">{{data.desc}}</span>\r\n                    </span>\r\n                    <span class=\"tree-item\" v-else>\r\n                      <el-tag type=\"info\">{{data.path}}</el-tag>\r\n                      <span\r\n                        style=\"color: #606266;margin-left: 5px;\"\r\n                      >接口</span>\r\n                    </span>\r\n                  </template>\r\n                </el-tree>\r\n              </div>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" native-type=\"submit\">保存</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { makeWebTree } from '@/utils/util.js'\r\nexport default {\r\n  name: 'RoleEdit',\r\n  props: {\r\n    id: {}\r\n  },\r\n  computed: {\r\n    /* 树形数据(逐级嵌套) */\r\n    apiRightTreeData() {\r\n      let data = []\r\n      const obj = {}\r\n      const uniqueCate = this.apiRights.reduce((arr, apiRight) => {\r\n        let cate = apiRight.category\r\n        // 找到唯一的分类\r\n        if (!obj[cate._id]) {\r\n          obj[cate._id] = true\r\n          arr.push(cate)\r\n        }\r\n        return arr\r\n      }, new Array())\r\n\r\n      data = uniqueCate.map((cate, index) => {\r\n        // 设置每个分类的信息\r\n        cate.id = index + 1\r\n        cate.label = cate.name\r\n        cate.type = 'category'\r\n        cate.children = []\r\n        // 找到属于这个分类的apiRight\r\n        this.apiRights.forEach(api => {\r\n          if (api.category._id === cate._id) {\r\n            api.id = api._id\r\n            api.label = api.path + ' ' + '接口'\r\n            api.type = 'url'\r\n            api.children = []\r\n            // 将请求方法名称与请求描述对应起来\r\n            const methodDesc = api.description.split('、') // description需要与methods一一对应\r\n            api.methods.forEach((method, index) => {\r\n              api.children.push({\r\n                label: method + ' ' + methodDesc[index],\r\n                id: method + '-' + api._id,\r\n                type: 'right',\r\n                right: method,\r\n                desc: methodDesc[index],\r\n                parentId: api._id\r\n              })\r\n            })\r\n            cate.children.push(api)\r\n          }\r\n        })\r\n        return cate\r\n      })\r\n      return data\r\n    },\r\n    adminWebTreeData() {\r\n      let data = []\r\n      if (this.adminWebs.length > 0) {\r\n        data = makeWebTree(this.adminWebs, true)\r\n      }\r\n      return data\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      model: {}, // role对象\r\n      apiRights: [], // 所有的api权限数据\r\n      adminWebs: [], // 所有的页面权限数据\r\n      defaultProps: {\r\n        // ElementUI树形组件的配置\r\n        children: 'children',\r\n        label: 'label'\r\n      },\r\n      methodType: {\r\n        // ELementUI的tag组件，不同颜色tag与角色权限的映射表\r\n        POST: 'success',\r\n        PUT: 'warning',\r\n        DELETE: 'danger'\r\n      },\r\n      defaultAdminWebCheckedKeys: [], // 编辑角色时，存储角色已有的权限数据\r\n      defaultApiRightCheckedKeys: [],\r\n      rules: {\r\n        name: [{ required: true, message: '请输入角色名称', trigger: 'blur' }],\r\n        description: [{ required: true, message: '请输入角色描述', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 新建角色\r\n    async save() {\r\n      this.$refs['RoleForm'].validate(async valid => {\r\n        if (valid) {\r\n          if (this.id) {\r\n            await this.$http.put(`rest/roles/${this.id}`, this.model)\r\n          } else {\r\n            await this.$http.post('rest/roles', this.model)\r\n          }\r\n          this.$router.push('/roles/list')\r\n          this.$message({\r\n            type: 'success',\r\n            message: '保存成功'\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: '表单信息不完整'\r\n          })\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 根据id查询角色\r\n    async fetch() {\r\n      const res = await this.$http.get(`rest/roles/${this.id}`)\r\n      this.model = res.data\r\n    },\r\n    // 查询所有的接口权限\r\n    async fetchApiRights() {\r\n      const res = await this.$http.get(`rest/api_rights`)\r\n      this.apiRights = res.data.items\r\n    },\r\n    // 查询所有的页面数据\r\n    async fetchAdminWebs() {\r\n      const res = await this.$http.get(`rest/admin_webs`)\r\n      this.adminWebs = res.data.items\r\n    },\r\n    clickWebTree(node, tree) {\r\n      // eslint-disable-line no-unused-vars\r\n      const { checkedNodes } = tree\r\n      this.model.adminWebs = [...this.checkTree(checkedNodes, 'web')]\r\n    },\r\n    clickApiTree(node, tree) {\r\n      // eslint-disable-line no-unused-vars\r\n      const { checkedNodes } = tree\r\n      this.model.apiRights = [...this.checkTree(checkedNodes, 'url')]\r\n    },\r\n    checkTree(arr, key) {\r\n      const rightNodes = arr.filter(item => item.type === 'right') // 已经选中的所有权限节点\r\n      const obj = {}\r\n      // console.log(key)\r\n      // console.log(rightNodes)\r\n      // 记录权限节点与对应的页面id\r\n      rightNodes.forEach(item => {\r\n        if (obj[item.parentId]) {\r\n          obj[item.parentId].push(item.right)\r\n        } else {\r\n          obj[item.parentId] = [item.right]\r\n        }\r\n      })\r\n\r\n      // console.log(obj)\r\n\r\n      const data = []\r\n      // 封装成adminWeb数据，即角色拥有的页面访问权限\r\n      for (const [pageId, rights] of Object.entries(obj)) {\r\n        const adminWeb = {\r\n          rights: rights\r\n        }\r\n        adminWeb[key] = pageId\r\n        // console.log(adminWeb)\r\n        data.push(adminWeb)\r\n      }\r\n      // console.log(data)\r\n      return data\r\n    },\r\n    // （编辑）获取已经有的权限\r\n    getDefaultTreeCheckedKeys(arr, key) {\r\n      const tree = key === 'web' ? this.$refs.webTree : this.$refs.apiTree\r\n      // console.log(tree)\r\n      // console.log(tree.getNode(arr[0][key]))\r\n      return arr.reduce((res, item) => {\r\n        let node = tree.getNode(item[key])\r\n        if (node) {\r\n          item.rights.forEach(right => {\r\n            node.data.children.forEach(item => {\r\n              if (right === item.right) {\r\n                res.push(item.id)\r\n              }\r\n            })\r\n          })\r\n        }\r\n        return res\r\n      }, new Array())\r\n    },\r\n    getDefaultAdminWebCheckedKeys() {\r\n      if (this.id && this.model.adminWebs) {\r\n        return this.getDefaultTreeCheckedKeys(this.model.adminWebs, 'web')\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n    getDefaultApiRightCheckedKeys() {\r\n      if (this.id && this.model.adminWebs) {\r\n        return this.getDefaultTreeCheckedKeys(this.model.apiRights, 'url')\r\n      } else {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    // 编辑操作时，查询当前编辑的角色信息\r\n    this.id && this.fetch()\r\n    // 查询接口权限和界面列表\r\n    this.fetchApiRights()\r\n    this.fetchAdminWebs()\r\n  },\r\n  mounted() {\r\n    this.id &&\r\n      setTimeout(() => {\r\n        this.defaultAdminWebCheckedKeys = [...this.getDefaultAdminWebCheckedKeys()]\r\n        this.defaultApiRightCheckedKeys = [...this.getDefaultApiRightCheckedKeys()]\r\n      }, 500)\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleEdit.vue?vue&type=template&id=09cf5be9&\"\nimport script from \"./RoleEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}